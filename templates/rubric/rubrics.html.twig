{% extends 'base.html.twig' %}

{% block title %}Rubriques
{% endblock %}

{% block body %}
	<div class="container mx-auto mt-12 p-6 bg-gray-100 shadow-lg rounded-xl">
		<h1 class="text-4xl font-bold text-gray-800 text-center mb-8">Rubriques</h1>

		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
			{% for rubric in rubrics %}
				<div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
					<div class="mb-4">
						<h2 class="text-lg font-semibold text-gray-700 uppercase">{{ rubric.label }}</h2>
						<p class="text-sm text-gray-500">ID:
							{{ rubric.id }}</p>

						{% if rubric.image %}
							<img src="{{ rubric.image }}" alt="{{ rubric.label }}" class="w-full h-32 object-cover rounded-md mt-3">
						{% endif %}

						<p class="text-gray-600 mt-3">{{ rubric.content }}</p>
					</div>

					{% if rubric.rubrics %}
						<div class="mt-4">
							<h3 class="text-md font-medium text-gray-600">Sous-rubriques</h3>
							<ul class="space-y-4 mt-2">
								{% for subrubric in rubric.rubrics %}
									<li class="bg-gray-50 p-4 rounded-md shadow-sm hover:shadow-lg transition-shadow duration-300 transform hover:scale-105">
										<h4 class="text-sm font-semibold text-gray-700">{{ subrubric.label }}</h4>
										<p class="text-xs text-gray-500">ID:
											{{ subrubric.id }}</p>

										{% if subrubric.image %}
											<img src="{{ subrubric.image }}" alt="{{ subrubric.label }}" class="w-full h-24 object-cover rounded-md mt-2">
										{% endif %}

										<p class="text-gray-500 mt-2 text-sm">{{ subrubric.content }}</p>

										<a href="{{ path('product_by_rubric', {'slug': subrubric.slug}) }}" class="mt-3 inline-block px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">
											Voir les instruments
										</a>
									</li>
								{% endfor %}
							</ul>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}