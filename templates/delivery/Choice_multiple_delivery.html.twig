{# templates/delivery/Choice_multiple_delivery.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Choix de livraison multiple
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<h1>Choix de livraison</h1>

		<form method="POST">
			<div class="form-check mb-3">
				<input class="form-check-input" type="checkbox" id="multipleDeliveryCheckbox" name="multiple_delivery" value="1">
				<label class="form-check-label" for="multipleDeliveryCheckbox">
					Je souhaite diviser mes livraisons
				</label>
			</div>

			<div id="deliveryOptionsContainer" style="display: none;">
				{% for item in products %}
					<div class="card mb-3">
						<div class="card-header">
							{{ item.product.label }}
							(Quantité totale :
							{{ item.totalQuantity }})
						</div>
						<div class="card-body">
							<div class="delivery-options">
								{% for i in 1..3 %}
									<div class="row mb-2">
										<div class="col">
											<input type="number" name="delivery_details[{{ item.product.id }}][]" class="form-control delivery-quantity" min="0" max="{{ item.totalQuantity }}" placeholder="Quantité pour la livraison {{ i }}">
										</div>
									</div>
								{% endfor %}
							</div>
						</div>
					</div>
				{% endfor %}
			</div>

			<button type="submit" class="btn btn-primary">Continuer</button>
		</form>
	</div>


{% endblock %}
